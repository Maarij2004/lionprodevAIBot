{"ast":null,"code":"// import { useState, useRef, useEffect } from 'react';\n// import './App.css';\n\n// function App() {\n//     const [promptArea, setPromptArea] = useState('');\n//     const [chatHistory, setChatHistory] = useState([\n//         { sender: 'bot', message: 'Hi there ðŸ‘‹\\nWe typically reply within a few minutes.' },\n//     ]);\n//     const [isLoading, setIsLoading] = useState(false);\n//     const messagesEndRef = useRef(null); // Reference for auto-scrolling\n\n//     // Auto-scroll to the bottom whenever the chatHistory changes\n//     useEffect(() => {\n//         if (messagesEndRef.current) {\n//             messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n//         }\n//     }, [chatHistory]);\n\n//     const handleSubmit = async () => {\n//         const userMessage = promptArea.trim();\n//         if (!userMessage) return;\n\n//         // Add user's message to chat history\n//         setChatHistory((prev) => [\n//             ...prev,\n//             { sender: 'user', message: userMessage },\n//         ]);\n//         setPromptArea(''); // Clear the input after submitting\n//         setIsLoading(true); // Start loading\n\n//         const url = 'http://localhost:3050/api/prompt';\n//         let tmpPromptResponse = '';\n//         try {\n//             const response = await fetch(url, {\n//                 method: 'POST',\n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                 },\n//                 body: JSON.stringify({ prompt: userMessage }),\n//             });\n\n//             if (!response.body) throw new Error('No response body');\n\n//             const reader = response.body.getReader();\n//             const decoder = new TextDecoder();\n\n//             while (true) {\n//                 const { value, done } = await reader.read();\n//                 if (done) break;\n\n//                 tmpPromptResponse += decoder.decode(value, { stream: true });\n//             }\n\n//             // Fix: Adding line breaks and sanitizing for asterisks or any unwanted characters\n//             tmpPromptResponse = tmpPromptResponse.replace(/\\*/g, '');  // Remove asterisks (if any)\n//             tmpPromptResponse = tmpPromptResponse.replace(/\\n/g, '<br />');  // Adding line breaks\n\n//             // Once the full response is received, update the state\n//             setChatHistory((prev) => [\n//                 ...prev,\n//                 { sender: 'bot', message: tmpPromptResponse },\n//             ]);\n//         } catch (error) {\n//             console.error('Error:', error);\n//             setChatHistory((prev) => [\n//                 ...prev,\n//                 { sender: 'bot', message: 'Error communicating with the server.' },\n//             ]);\n//         } finally {\n//             setIsLoading(false); // End loading\n//         }\n//     };\n\n//     const handleKeyPress = (e) => {\n//         if (e.key === 'Enter' && !e.shiftKey) {\n//             e.preventDefault(); // Prevent default behavior of Enter key (adding new line)\n//             handleSubmit();\n//         }\n//     };\n\n//     return (\n//         <div className=\"chat-container\">\n//             <div className=\"chat-card\">\n//                 <div className=\"chat-header\">\n//                     <h2>Chat with Our AI</h2>\n//                 </div>\n//                 <div className=\"chat-box\">\n//                     <div className=\"messages\">\n//                         {chatHistory.map((msg, index) => (\n//                             <div\n//                                 key={index}\n//                                 className={`message ${msg.sender}`}\n//                                 dangerouslySetInnerHTML={{ __html: msg.message }} // Render message with HTML (line breaks)\n//                             >\n//                             </div>\n//                         ))}\n//                         <div ref={messagesEndRef} /> {/* Scroll reference */}\n//                     </div>\n//                 </div>\n//                 <div className=\"chat-input\">\n//                     <textarea\n//                         className=\"input-textarea\"\n//                         rows={2}\n//                         placeholder=\"Type your message...\"\n//                         onChange={(e) => setPromptArea(e.target.value)}\n//                         value={promptArea}\n//                         onKeyDown={handleKeyPress} // Listen for Enter key\n//                     />\n//                     <button className=\"send-button\" onClick={handleSubmit} disabled={isLoading}>\n//                         {isLoading ? 'Sending...' : 'Send'}\n//                     </button>\n//                 </div>\n//             </div>\n//         </div>\n//     );\n// }\n\n// export default App;","map":{"version":3,"names":[],"sources":["D:/Lionprodev/frontend/lionprodev/src/App.js"],"sourcesContent":["// import { useState, useRef, useEffect } from 'react';\n// import './App.css';\n\n// function App() {\n//     const [promptArea, setPromptArea] = useState('');\n//     const [chatHistory, setChatHistory] = useState([\n//         { sender: 'bot', message: 'Hi there ðŸ‘‹\\nWe typically reply within a few minutes.' },\n//     ]);\n//     const [isLoading, setIsLoading] = useState(false);\n//     const messagesEndRef = useRef(null); // Reference for auto-scrolling\n\n//     // Auto-scroll to the bottom whenever the chatHistory changes\n//     useEffect(() => {\n//         if (messagesEndRef.current) {\n//             messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n//         }\n//     }, [chatHistory]);\n\n//     const handleSubmit = async () => {\n//         const userMessage = promptArea.trim();\n//         if (!userMessage) return;\n\n//         // Add user's message to chat history\n//         setChatHistory((prev) => [\n//             ...prev,\n//             { sender: 'user', message: userMessage },\n//         ]);\n//         setPromptArea(''); // Clear the input after submitting\n//         setIsLoading(true); // Start loading\n\n//         const url = 'http://localhost:3050/api/prompt';\n//         let tmpPromptResponse = '';\n//         try {\n//             const response = await fetch(url, {\n//                 method: 'POST',\n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                 },\n//                 body: JSON.stringify({ prompt: userMessage }),\n//             });\n\n//             if (!response.body) throw new Error('No response body');\n\n//             const reader = response.body.getReader();\n//             const decoder = new TextDecoder();\n\n//             while (true) {\n//                 const { value, done } = await reader.read();\n//                 if (done) break;\n\n//                 tmpPromptResponse += decoder.decode(value, { stream: true });\n//             }\n\n//             // Fix: Adding line breaks and sanitizing for asterisks or any unwanted characters\n//             tmpPromptResponse = tmpPromptResponse.replace(/\\*/g, '');  // Remove asterisks (if any)\n//             tmpPromptResponse = tmpPromptResponse.replace(/\\n/g, '<br />');  // Adding line breaks\n\n//             // Once the full response is received, update the state\n//             setChatHistory((prev) => [\n//                 ...prev,\n//                 { sender: 'bot', message: tmpPromptResponse },\n//             ]);\n//         } catch (error) {\n//             console.error('Error:', error);\n//             setChatHistory((prev) => [\n//                 ...prev,\n//                 { sender: 'bot', message: 'Error communicating with the server.' },\n//             ]);\n//         } finally {\n//             setIsLoading(false); // End loading\n//         }\n//     };\n\n//     const handleKeyPress = (e) => {\n//         if (e.key === 'Enter' && !e.shiftKey) {\n//             e.preventDefault(); // Prevent default behavior of Enter key (adding new line)\n//             handleSubmit();\n//         }\n//     };\n\n//     return (\n//         <div className=\"chat-container\">\n//             <div className=\"chat-card\">\n//                 <div className=\"chat-header\">\n//                     <h2>Chat with Our AI</h2>\n//                 </div>\n//                 <div className=\"chat-box\">\n//                     <div className=\"messages\">\n//                         {chatHistory.map((msg, index) => (\n//                             <div\n//                                 key={index}\n//                                 className={`message ${msg.sender}`}\n//                                 dangerouslySetInnerHTML={{ __html: msg.message }} // Render message with HTML (line breaks)\n//                             >\n//                             </div>\n//                         ))}\n//                         <div ref={messagesEndRef} /> {/* Scroll reference */}\n//                     </div>\n//                 </div>\n//                 <div className=\"chat-input\">\n//                     <textarea\n//                         className=\"input-textarea\"\n//                         rows={2}\n//                         placeholder=\"Type your message...\"\n//                         onChange={(e) => setPromptArea(e.target.value)}\n//                         value={promptArea}\n//                         onKeyDown={handleKeyPress} // Listen for Enter key\n//                     />\n//                     <button className=\"send-button\" onClick={handleSubmit} disabled={isLoading}>\n//                         {isLoading ? 'Sending...' : 'Send'}\n//                     </button>\n//                 </div>\n//             </div>\n//         </div>\n//     );\n// }\n\n// export default App;\n\n\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}